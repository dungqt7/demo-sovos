{"ast":null,"code":"var _jsxFileName = \"F:\\\\demo-sovos\\\\src\\\\tax-calculator\\\\components\\\\CalculationSetup\\\\dynamic-components\\\\Discounts.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport SovosIconButton from 's1-ui/sovos-icon-button';\nimport ActionDelete from '@material-ui/icons/Clear';\nimport { FieldArray } from 'redux-form';\nimport SovosRaiseButton from 's1-ui/sovos-raised-button';\nimport Discount from './Discount';\nimport { connect } from 'react-redux';\n\nvar renderDiscounts = function renderDiscounts(_ref) {\n  var defaultDiscountType = _ref.defaultDiscountType,\n      fields = _ref.fields;\n  console.log('default = ', defaultDiscountType);\n  return fields.map(function (field, index) {\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'flex-end'\n      },\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, React.createElement(Discount, {\n      typeInputName: \"\".concat(field, \".type\"),\n      amountInputName: \"\".concat(field, \".amount\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }), fields.length > 1 || index > 0 ? React.createElement(SovosRaiseButton, {\n      style: {\n        marginLeft: 25\n      },\n      color: \"secondary\",\n      onClick: function onClick() {\n        return fields.remove(index);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"Remove\") : React.createElement(React.Fragment, null), React.createElement(\"span\", {\n      style: {\n        flexGrow: 1,\n        flexShrink: 1,\n        flexBasis: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), index + 1 === fields.length && fields.length < 5 ? React.createElement(SovosRaiseButton, {\n      style: {\n        alignSeft: 'flex-end'\n      },\n      color: \"secondary\",\n      onClick: function onClick() {\n        return fields.push({\n          type: defaultDiscountType,\n          amount: ''\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"Add another type\") : React.createElement(React.Fragment, null));\n  });\n};\n\nvar renderDiscountsWithDefault = connect(function (state) {\n  return {\n    defaultDiscountType: state.organizationInfo.organizationDefaultSets.discntTpCd\n  };\n})(renderDiscounts);\n\nfunction Discounts(_ref2) {\n  var fieldName = _ref2.fieldName,\n      onRemoveDiscounts = _ref2.onRemoveDiscounts;\n  // const { discounts, onRemoveDiscounts } = props;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      marginTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Discounts\"), React.createElement(SovosIconButton, {\n    size: \"medium\",\n    onClick: onRemoveDiscounts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(ActionDelete, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))), React.createElement(FieldArray, {\n    name: fieldName,\n    component: renderDiscountsWithDefault,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }));\n}\n\nDiscounts.propTypes = {\n  fieldName: PropTypes.any.isRequired,\n  onRemoveDiscounts: PropTypes.any.isRequired\n};\nDiscounts.defaultProps = {};\nexport default Discounts;","map":{"version":3,"sources":["F:\\demo-sovos\\src\\tax-calculator\\components\\CalculationSetup\\dynamic-components\\Discounts.js"],"names":["React","PropTypes","SovosIconButton","ActionDelete","FieldArray","SovosRaiseButton","Discount","connect","renderDiscounts","defaultDiscountType","fields","console","log","map","field","index","display","alignItems","length","marginLeft","remove","flexGrow","flexShrink","flexBasis","alignSeft","push","type","amount","renderDiscountsWithDefault","state","organizationInfo","organizationDefaultSets","discntTpCd","Discounts","fieldName","onRemoveDiscounts","justifyContent","marginTop","propTypes","any","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SovosIconButton from 's1-ui/sovos-icon-button';\r\nimport ActionDelete from '@material-ui/icons/Clear';\r\nimport { FieldArray } from 'redux-form';\r\nimport SovosRaiseButton from 's1-ui/sovos-raised-button';\r\n\r\nimport Discount from './Discount';\r\nimport { connect } from 'react-redux';\r\n\r\nconst renderDiscounts = ({ defaultDiscountType, fields }) => {\r\n  console.log('default = ', defaultDiscountType);\r\n  return (\r\n    fields.map((field, index) => (\r\n      <div\r\n        style={ { display: 'flex', alignItems: 'flex-end' } }\r\n        key={ index }\r\n      >\r\n        <Discount\r\n          typeInputName={ `${ field }.type` }\r\n          amountInputName={ `${ field }.amount` }\r\n        />\r\n\r\n        { fields.length > 1 || index > 0 ? (\r\n          <SovosRaiseButton\r\n            style={ { marginLeft: 25 } }\r\n            color=\"secondary\"\r\n            onClick={ () => fields.remove(index) }\r\n          >\r\n            Remove\r\n          </SovosRaiseButton>) : <></> }\r\n\r\n        <span style={ { flexGrow: 1, flexShrink: 1, flexBasis: 'auto' } } />\r\n        { index + 1 === fields.length && fields.length < 5 ?\r\n          (\r\n            <SovosRaiseButton\r\n              style={ { alignSeft: 'flex-end' } }\r\n              color=\"secondary\"\r\n              onClick={ () => fields.push({ type: defaultDiscountType, amount: '' }) }\r\n            >\r\n              Add another type\r\n            </SovosRaiseButton>\r\n          ) : (<></>)\r\n        }\r\n\r\n      </div>\r\n    ))\r\n  );\r\n}\r\n\r\nconst renderDiscountsWithDefault = connect((state) => ({\r\n  defaultDiscountType: state.organizationInfo.organizationDefaultSets.discntTpCd\r\n}))(renderDiscounts)\r\n\r\nfunction Discounts({ fieldName, onRemoveDiscounts }) {\r\n  // const { discounts, onRemoveDiscounts } = props;\r\n  return (\r\n    <div>\r\n      <div style={ { display: 'flex', justifyContent: 'space-between', marginTop: 20 } }>\r\n        <h5>Discounts</h5>\r\n        <SovosIconButton\r\n          size=\"medium\"\r\n          onClick={ onRemoveDiscounts }\r\n        >\r\n          <ActionDelete />\r\n        </SovosIconButton>\r\n      </div>\r\n      <FieldArray\r\n        name={ fieldName }\r\n        component={ renderDiscountsWithDefault }\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nDiscounts.propTypes = {\r\n  fieldName: PropTypes.any.isRequired,\r\n  onRemoveDiscounts: PropTypes.any.isRequired,\r\n};\r\nDiscounts.defaultProps = {};\r\n\r\nexport default Discounts;\r\n"]},"metadata":{},"sourceType":"module"}