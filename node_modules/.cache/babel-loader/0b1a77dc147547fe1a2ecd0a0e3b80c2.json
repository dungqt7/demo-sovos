{"ast":null,"code":"import * as FIELDSNAMES from './calculationSetupConstants';\nimport validateSovosBasicText from '../../../util/common-validate/validateSovosBasicText';\nimport validateSovosAmountNumber from '../../../util/common-validate/validateSovosAmountNumber';\n\nvar calculationSetupValidate = function calculationSetupValidate(values) {\n  var errors = {};\n  /* Validate document number field name */\n\n  errors[FIELDSNAMES.DOCUMENT_NUMBER_FIELD_NAME] = validateSovosBasicText(values[FIELDSNAMES.DOCUMENT_NUMBER_FIELD_NAME], false);\n  /* Validate Additional fields */\n\n  errors[FIELDSNAMES.ADDITIONAL_FIELDS_NAME] = [];\n  var additionalFields = values[FIELDSNAMES.ADDITIONAL_FIELDS_NAME];\n  errors[FIELDSNAMES.ADDITIONAL_FIELDS_NAME] = additionalFields.map(function (field) {\n    return validateAdditionalField(field);\n  });\n  return errors;\n};\n\nvar validateDiscounts = function validateDiscounts(discounts) {\n  return discounts.map(function (discount) {\n    return {\n      amount: validateSovosAmountNumber(discount.amount, true)\n    };\n  });\n};\n\nvar validateAdditionalField = function validateAdditionalField(field) {\n  switch (field.type) {\n    case FIELDSNAMES.CUSTOMS_DUTIES_FIELD_NAME:\n      {\n        return {\n          amount: validateSovosAmountNumber(field.amount, true)\n        };\n      }\n\n    case FIELDSNAMES.DELYVERY_AMOUNT_FIELD_NAME:\n      {\n        return {\n          amount: validateSovosAmountNumber(field.amount, true)\n        };\n      }\n\n    case FIELDSNAMES.DELYVERY_INSURANCE_FIELD_NAME:\n      {\n        return {\n          amount: validateSovosAmountNumber(field.amount, true)\n        };\n      }\n\n    case FIELDSNAMES.TRANSACTION_SOURCE_FIELD_NAME:\n      {\n        return {\n          transactionSource: validateSovosBasicText(field.transactionSource, true)\n        };\n      }\n\n    case FIELDSNAMES.DISCOUNTS_FIELDS_NAME:\n      {\n        return {\n          discounts: validateDiscounts(field.discounts)\n        };\n      }\n\n    default:\n      {\n        return {};\n      }\n  }\n};\n\nexport default calculationSetupValidate;","map":{"version":3,"sources":["F:\\demo-sovos\\src\\tax-calculator\\components\\CalculationSetup\\calculationSetupValidate.js"],"names":["FIELDSNAMES","validateSovosBasicText","validateSovosAmountNumber","calculationSetupValidate","values","errors","DOCUMENT_NUMBER_FIELD_NAME","ADDITIONAL_FIELDS_NAME","additionalFields","map","field","validateAdditionalField","validateDiscounts","discounts","discount","amount","type","CUSTOMS_DUTIES_FIELD_NAME","DELYVERY_AMOUNT_FIELD_NAME","DELYVERY_INSURANCE_FIELD_NAME","TRANSACTION_SOURCE_FIELD_NAME","transactionSource","DISCOUNTS_FIELDS_NAME"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,6BAA7B;AACA,OAAOC,sBAAP,MAAmC,sDAAnC;AACA,OAAOC,yBAAP,MAAsC,yDAAtC;;AAEA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACC,MAAD,EAAY;AAC3C,MAAMC,MAAM,GAAG,EAAf;AAEA;;AACAA,EAAAA,MAAM,CAACL,WAAW,CAACM,0BAAb,CAAN,GACEL,sBAAsB,CAACG,MAAM,CAACJ,WAAW,CAACM,0BAAb,CAAP,EAAiD,KAAjD,CADxB;AAEA;;AACAD,EAAAA,MAAM,CAACL,WAAW,CAACO,sBAAb,CAAN,GAA6C,EAA7C;AACA,MAAMC,gBAAgB,GAAGJ,MAAM,CAACJ,WAAW,CAACO,sBAAb,CAA/B;AACAF,EAAAA,MAAM,CAACL,WAAW,CAACO,sBAAb,CAAN,GAA6CC,gBAAgB,CAACC,GAAjB,CAAqB,UAAAC,KAAK;AAAA,WAAIC,uBAAuB,CAACD,KAAD,CAA3B;AAAA,GAA1B,CAA7C;AAGA,SAAOL,MAAP;AACD,CAbD;;AAcA,IAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,SAAD;AAAA,SAAeA,SAAS,CAACJ,GAAV,CAAc,UAACK,QAAD;AAAA,WAAe;AAAEC,MAAAA,MAAM,EAAEb,yBAAyB,CAACY,QAAQ,CAACC,MAAV,EAAkB,IAAlB;AAAnC,KAAf;AAAA,GAAd,CAAf;AAAA,CAA1B;;AAEA,IAAMJ,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACD,KAAD,EAAW;AACzC,UAAQA,KAAK,CAACM,IAAd;AACE,SAAKhB,WAAW,CAACiB,yBAAjB;AAA4C;AAC1C,eAAO;AAAEF,UAAAA,MAAM,EAAEb,yBAAyB,CAACQ,KAAK,CAACK,MAAP,EAAe,IAAf;AAAnC,SAAP;AACD;;AAED,SAAKf,WAAW,CAACkB,0BAAjB;AAA6C;AAC3C,eAAO;AAAEH,UAAAA,MAAM,EAAEb,yBAAyB,CAACQ,KAAK,CAACK,MAAP,EAAe,IAAf;AAAnC,SAAP;AACD;;AACD,SAAKf,WAAW,CAACmB,6BAAjB;AAAgD;AAC9C,eAAO;AAAEJ,UAAAA,MAAM,EAAEb,yBAAyB,CAACQ,KAAK,CAACK,MAAP,EAAe,IAAf;AAAnC,SAAP;AACD;;AACD,SAAKf,WAAW,CAACoB,6BAAjB;AAAgD;AAC9C,eAAO;AAAEC,UAAAA,iBAAiB,EAAEpB,sBAAsB,CAACS,KAAK,CAACW,iBAAP,EAA0B,IAA1B;AAA3C,SAAP;AACD;;AACD,SAAKrB,WAAW,CAACsB,qBAAjB;AAAwC;AACtC,eAAO;AAAET,UAAAA,SAAS,EAAED,iBAAiB,CAACF,KAAK,CAACG,SAAP;AAA9B,SAAP;AACD;;AAED;AAAS;AACP,eAAO,EAAP;AACD;AApBH;AAuBD,CAxBD;;AA0BA,eAAeV,wBAAf","sourcesContent":["import * as FIELDSNAMES from './calculationSetupConstants';\r\nimport validateSovosBasicText from '../../../util/common-validate/validateSovosBasicText';\r\nimport validateSovosAmountNumber from '../../../util/common-validate/validateSovosAmountNumber';\r\n\r\nconst calculationSetupValidate = (values) => {\r\n  const errors = {};\r\n\r\n  /* Validate document number field name */\r\n  errors[FIELDSNAMES.DOCUMENT_NUMBER_FIELD_NAME] =\r\n    validateSovosBasicText(values[FIELDSNAMES.DOCUMENT_NUMBER_FIELD_NAME], false);\r\n  /* Validate Additional fields */\r\n  errors[FIELDSNAMES.ADDITIONAL_FIELDS_NAME] = [];\r\n  const additionalFields = values[FIELDSNAMES.ADDITIONAL_FIELDS_NAME];\r\n  errors[FIELDSNAMES.ADDITIONAL_FIELDS_NAME] = additionalFields.map(field => validateAdditionalField(field)\r\n  );\r\n\r\n  return errors;\r\n};\r\nconst validateDiscounts = (discounts) => discounts.map((discount) => ({ amount: validateSovosAmountNumber(discount.amount, true) }));\r\n\r\nconst validateAdditionalField = (field) => {\r\n  switch (field.type) {\r\n    case FIELDSNAMES.CUSTOMS_DUTIES_FIELD_NAME: {\r\n      return { amount: validateSovosAmountNumber(field.amount, true) };\r\n    }\r\n\r\n    case FIELDSNAMES.DELYVERY_AMOUNT_FIELD_NAME: {\r\n      return { amount: validateSovosAmountNumber(field.amount, true) };\r\n    }\r\n    case FIELDSNAMES.DELYVERY_INSURANCE_FIELD_NAME: {\r\n      return { amount: validateSovosAmountNumber(field.amount, true) };\r\n    }\r\n    case FIELDSNAMES.TRANSACTION_SOURCE_FIELD_NAME: {\r\n      return { transactionSource: validateSovosBasicText(field.transactionSource, true) };\r\n    }\r\n    case FIELDSNAMES.DISCOUNTS_FIELDS_NAME: {\r\n      return { discounts: validateDiscounts(field.discounts) };\r\n    }\r\n\r\n    default: {\r\n      return {};\r\n    }\r\n\r\n  }\r\n};\r\n\r\nexport default calculationSetupValidate;\r\n"]},"metadata":{},"sourceType":"module"}